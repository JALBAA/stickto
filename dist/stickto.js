!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.stickto=t():e.stickto=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unstick=t.stick=void 0;var n,s=i(1),o=(n=s)&&n.__esModule?n:{default:n};var l=[];function r(){if(0!=l.length){for(var e=void 0,t=void 0,i=0;i<l.length;i++){var n=l[i];n.isInDangerZone()&&(t=n),!e&&n.shouldStick()?e=n:n.unstick()}e&&e.stick(),e&&t&&e.smoothSwitch(t)}}document.addEventListener("scroll",r),t.stick=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.className,n=t.zIndex;r();var s=new o.default(e,i,n);return l.unshift(s),s},t.unstick=function(e){l=l.filter(function(t){return e instanceof o.default&&t==e?(e.destroy(),!1):t.$el!=e||(t.destroy(),!1)})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var s=-1,o=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s++,this.cid=s,this.$el=t;var o=window.getComputedStyle(t);this.zIndex="20",n&&(this.zIndex=n),this.className="stickto-auto-generated-sticky",i&&(this.className=i.trim()),this.styleCache={position:o.position,top:o.top,zIndex:o.zIndex},this.$holder=document.createElement("div"),this.$holder.className="auto-generated-stick-holder auto-generated-stick-holder-"+this.cid,this.$el.parentNode.insertBefore(this.$holder,this.$el)}return n(e,[{key:"getBoundingClientRect",value:function(){return this.$el.getBoundingClientRect()}},{key:"getHeight",value:function(){return Number(window.getComputedStyle(this.$el).height.split("px")[0])}},{key:"smoothSwitch",value:function(e){this.$el.style.transform="translate3d(0,"+(e.getBoundingClientRect().top-e.getHeight())+"px,0)"}},{key:"copyStyle",value:function(e,t,i){e[i]!==t[i]&&(e[i]=t[i])}},{key:"destroy",value:function(){this.unstick(),this.$holder.parentNode.removeChild(this.$holder),this.$holder=null,this.styleCache=null,this.$el=null,s--}},{key:"isInDangerZone",value:function(){var e=this.$holder.getBoundingClientRect(),t=Number(window.getComputedStyle(this.$el).height.split("px")[0]);return e.top>0&&e.top<t}},{key:"shouldStick",value:function(){var e=this.$holder.getBoundingClientRect();Number(window.getComputedStyle(this.$el).height.split("px")[0]);return e.top<=0}},{key:"stick",value:function(){var e={position:"fixed",top:"0px",zIndex:this.zIndex};this.copyStyle(this.$holder.style,window.getComputedStyle(this.$el),"height"),this.copyStyle(this.$el.style,e,"position"),this.copyStyle(this.$el.style,e,"top"),this.copyStyle(this.$el.style,e,"zIndex"),this.copyStyle(this.$el.style,{transform:"translate3d(0,0,0)"},"transform"),this.className&&!this.$el.className.match(new RegExp(this.className))&&(this.$el.className+=" "+this.className)}},{key:"unstick",value:function(){var e=new RegExp(" "+this.className,"g");this.copyStyle(this.$el.style,this.styleCache,"position"),this.copyStyle(this.$el.style,this.styleCache,"top"),this.copyStyle(this.$el.style,this.styleCache,"zIndex"),this.copyStyle(this.$holder.style,{height:"0px"},"height"),this.copyStyle(this.$el.style,{transform:"translate3d(0,0,0)"},"transform"),this.className&&this.$el.className.match(e)&&(this.$el.className=this.$el.className.replace(e,""))}}]),e}();t.default=o}])});
//# sourceMappingURL=stickto.js.map